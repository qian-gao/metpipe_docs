
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../setup_input_folder/">
      
      
        <link rel="next" href="../../data_explorer/introduction/">
      
      
        
      
      
      <link rel="icon" href="../../material/library-shelves">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>Untargeted processing pipeline - metpipe</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overall-procedures" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="metpipe" class="md-header__button md-logo" aria-label="metpipe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.19 18H24l-3.86-6H22L15 2l-2.39 3.41L17.92 13h-1.95zM16 12 9 2 2 12h1.86L0 18h7v4h4v-4h7l-3.86-6zm-3.84-2H10.5l3.84 6H3.67l3.86-6H5.84L9 5.5zm.84 9v3h4v-3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            metpipe
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Untargeted processing pipeline
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Repository containing source -->
<a
  href="https://github.com/qian-gao/metpipe_docs"
  title="source.link.title"
>
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    qian-gao/metpipe
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../workflow/introduction/" class="md-tabs__link">
          
  
  
  Workflow

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../introduction/" class="md-tabs__link">
          
  
  
  metpipe

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../data_explorer/introduction/" class="md-tabs__link">
          
  
  
  Data explorer

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="metpipe" class="md-nav__button md-logo" aria-label="metpipe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.19 18H24l-3.86-6H22L15 2l-2.39 3.41L17.92 13h-1.95zM16 12 9 2 2 12h1.86L0 18h7v4h4v-4h7l-3.86-6zm-3.84-2H10.5l3.84 6H3.67l3.86-6H5.84L9 5.5zm.84 9v3h4v-3z"/></svg>

    </a>
    metpipe
  </label>
  
    <div class="md-nav__source">
      <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Repository containing source -->
<a
  href="https://github.com/qian-gao/metpipe_docs"
  title="source.link.title"
>
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    qian-gao/metpipe
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Workflow
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflow
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Study design & data organization
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Study design & data organization
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/design_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/design_randomization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Randomization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/design_qc_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quality control setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/design_data_conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data conversion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/design_data_structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LC-MS data structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Untargeted data processing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Untargeted data processing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_preprocessing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Preprocessing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Identification
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Identification
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_identification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    General
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_identification_lip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lipid annotation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_qc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quality control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_5" >
        
          
          <label class="md-nav__link" for="__nav_2_3_5" id="__nav_2_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Post processing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Post processing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_clean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Peak cleaning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_missing_imputation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Missing imputation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_normalization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Normalization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/untar_merge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Merge peaklist
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Targeted data processing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Targeted data processing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_targets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Targets and assay design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Standards and internal standards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_calibration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Calibration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_batch_qc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Batch design and QC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_acquisition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acquisition methods
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/tar_acceptance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acceptance criteria
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Statistical analysis and interpretation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Statistical analysis and interpretation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/stat_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/univariate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Univariate analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/multivariate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multivariate analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/pathway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pathway analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    metpipe
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    metpipe
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup_input_folder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up input folder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Untargeted processing pipeline
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Untargeted processing pipeline
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standardized workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standardized workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Processing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#non-standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Non-standardized workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guidance-for-standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guidance for standardized workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guidance for standardized workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prepare workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-generated-configyml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check generated config.yml
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Check generated config.yml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-and-output-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input and output paths
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocessing-in-mzmine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preprocessing in MZMine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#library-used-for-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Library used for preprocessing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Post-processing parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#re-run-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Re-run workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Re-run workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#re-run-mzmine-preprocessing-with-modified-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Re-run MZMine preprocessing with modified parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#re-run-downstream-processing-with-modified-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Re-run downstream processing with modified parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#one-step-command" class="md-nav__link">
    <span class="md-ellipsis">
      
        One step command
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guidance-for-non-standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guidance for non-standardized workflow
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data explorer
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data explorer
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_explorer/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standardized workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standardized workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Processing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#non-standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Non-standardized workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guidance-for-standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guidance for standardized workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guidance for standardized workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prepare workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-generated-configyml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check generated config.yml
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Check generated config.yml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-and-output-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input and output paths
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocessing-in-mzmine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preprocessing in MZMine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#library-used-for-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Library used for preprocessing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Post-processing parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#re-run-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Re-run workflow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Re-run workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#re-run-mzmine-preprocessing-with-modified-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Re-run MZMine preprocessing with modified parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#re-run-downstream-processing-with-modified-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Re-run downstream processing with modified parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#one-step-command" class="md-nav__link">
    <span class="md-ellipsis">
      
        One step command
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guidance-for-non-standardized-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Guidance for non-standardized workflow
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="overall-procedures">Overall procedures<a class="headerlink" href="#overall-procedures" title="Permanent link">&para;</a></h1>
<h2 id="standardized-workflow">Standardized workflow<a class="headerlink" href="#standardized-workflow" title="Permanent link">&para;</a></h2>
<h3 id="input">Input<a class="headerlink" href="#input" title="Permanent link">&para;</a></h3>
<p>The only input needed is the subfolder name where the raw/mzML data is stored (e.g. PL_LIPS_PASEF). The subfolder naming should follow the standard naming convention as shown in the figure below (i.e. Matrix_Assay_method). The data file naming should follow the standard naming convention (i.e. Project ID_Assay Method Polarity_Date_Run Seq_Sample Name_Extraction Replicate_Technical Replicate, e.g. MP000_LIPSPASEFp_09092025_004_BL_1_1).</p>
<h3 id="processing">Processing<a class="headerlink" href="#processing" title="Permanent link">&para;</a></h3>
<p>The workflow is executed in two sequential steps:</p>
<ul>
<li>
<p><strong>Prepare workflow</strong><br />
  This step parses the input (the project subfolder containing raw/mzML files), inspects the files to infer assay- and file-specific settings, and generates all required parameters (for example: preprocessing options, library paths, and other assay-specific settings). All parameters are written to config.yml for use by the next step.</p>
</li>
<li>
<p><strong>Run workflow</strong><br />
  This step reads the config.yml produced by prepare_workflow and executes the preprocessing and downstream processing (e.g., peak detection, alignment, and annotation) according to those parameters. Processing logs and result files are written to the project output directory.</p>
</li>
</ul>
<hr />
<h2 id="non-standardized-workflow">Non-standardized workflow<a class="headerlink" href="#non-standardized-workflow" title="Permanent link">&para;</a></h2>
<p>For non-standardized workflows, the core processing steps are the same as for the standardized workflow. prepare_workflow still generates a default config.yml, but users may edit its parameters to accommodate non-standard inputs (for example, to point to an alternative library, change preprocessing or filtering thresholds, or modify assay-specific settings).</p>
<hr />
<h2 id="guidance-for-standardized-workflow">Guidance for standardized workflow<a class="headerlink" href="#guidance-for-standardized-workflow" title="Permanent link">&para;</a></h2>
<h3 id="input_1">Input<a class="headerlink" href="#input_1" title="Permanent link">&para;</a></h3>
<p>The input is the subfolder name where the raw/mzML data is stored. The pipeline will automatically detect all the files in the subfolder and generate the parameters needed for processing. The in-house library and public spectral libraries will be automatically linked based on the assay and method. The pipeline will also detect the sample types (e.g., BL, PO, NIST) and running sequence based on the standardized sample naming convention. </p>
<p>With the standardized naming convention, no further input is needed from the user.</p>
<h3 id="prepare-workflow">Prepare workflow<a class="headerlink" href="#prepare-workflow" title="Permanent link">&para;</a></h3>
<p>To prepare the workflow, run the following command in powershell:</p>
<pre><code class="language-powershell">docker run -it `
    -v E:/:/mnt/e `
    qiangao/metpipe:0.5 `
    Rscript /wd/prepare_standard_workflow.R --raw &quot;/mnt/e/Projects/MP_workshop/raw/PL_LIPS_PASEF&quot;
</code></pre>
<p>This command mounts the E: drive to the Docker container and runs the <code>prepare_standard_workflow.R</code> script, specifying the raw data location. Adjust the raw folder paths and the dirve where the raw data is stored as necessary for your system. Note that the raw folder path inside the Docker container should start with <code>/mnt/</code> and use forward slashes.</p>
<h3 id="check-generated-configyml">Check generated config.yml<a class="headerlink" href="#check-generated-configyml" title="Permanent link">&para;</a></h3>
<p>After running the prepare_workflow step, a <code>config.yml</code> file will be generated in the output directory. Review this file to ensure that all parameters are correctly set for your dataset. If you are using a non-standardized workflow, you may need to edit this file to adjust settings such as library paths or preprocessing options.</p>
<p>The <code>config.yml</code> file contains all the necessary parameters for the subsequent processing step, including:</p>
<h4 id="input-and-output-paths">Input and output paths<a class="headerlink" href="#input-and-output-paths" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>path_raw</strong>: path to raw/mzML files</li>
<li><strong>path_result</strong>: path to output results </li>
</ul>
<h4 id="preprocessing-in-mzmine">Preprocessing in MZMine<a class="headerlink" href="#preprocessing-in-mzmine" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>mzmine_params</strong>: MZMine parameters</li>
<li><strong>mzmine_threads</strong>: MZMine number of threads</li>
</ul>
<h4 id="library-used-for-preprocessing">Library used for preprocessing<a class="headerlink" href="#library-used-for-preprocessing" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>path_lib_istd_pos/path_lib_istd_neg</strong>: path to in-house library including internal standards</li>
<li><strong>path_spectral_lib</strong>: path to spectral library</li>
</ul>
<h4 id="post-processing-parameters">Post-processing parameters<a class="headerlink" href="#post-processing-parameters" title="Permanent link">&para;</a></h4>
<h5 id="filtering">Filtering<a class="headerlink" href="#filtering" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>mean.filter</strong>: mean filter threshold, e.g. 2*BL &lt; PO (meaning features with mean intensity in PO samples more than two times the mean intensity in BL samples will be kept).  </li>
</ul>
<pre><code class="language-yaml">- - '2'  
- BL  
- &lt;  
- PO  
</code></pre>
<ul>
<li><strong>rsd.filter</strong>: RSD filter threshold, e.g. 30 (meaning features with RSD less than 30% in PO samples will be kept).  </li>
</ul>
<pre><code class="language-yaml">- - '1'
- PO
- &lt;
- '0.3'
</code></pre>
<ul>
<li><strong>rt.range</strong>: retention time range to keep, e.g. (0, 30) (meaning features with retention time between 0 and 30 minutes will be kept).  </li>
</ul>
<pre><code class="language-yaml">- 0
- 30
</code></pre>
<ul>
<li><strong>filter_by_missing_feature_pct</strong>: filter features by missing percentage across all specific type of samples, e.g. 50 (meaning features with less than 50% missing values across all specific type of samples will be kept).</li>
<li><strong>filter_by_missing_sample_type</strong>: sample types used for missing value filtering, e.g. PO (meaning only PO samples will be used for missing value filtering).</li>
<li><strong>outliers.sample</strong>: sample names to be considered as outliers and removed from further processing, e.g. BL_1_3, PO_1_1.  </li>
</ul>
<pre><code class="language-yaml">- BL_1_3
- PO_1_1
</code></pre>
<ul>
<li><strong>clean.po.sample.to.use</strong>: sample types used for cleaning duplicate features, e.g. PO (meaning only PO samples will be used for cleaning duplicate features)</li>
</ul>
<h5 id="imputation">Imputation<a class="headerlink" href="#imputation" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>impute.method.sample</strong>: imputation method for sample missing values, e.g. HF, LoD, median, min, mean, knn.  </li>
<li><strong>impute.method.is</strong>: imputation method for internal standard missing values</li>
</ul>
<h5 id="normalization">Normalization<a class="headerlink" href="#normalization" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>norm.po.sample.to.use</strong>: sample types used for normalization, e.g. PO</li>
<li><strong>norm.method</strong>: normalization method, e.g. bestis, low_cv, median, sum, pqn, loess, combat, limma.   </li>
</ul>
<pre><code class="language-yaml">- bestis
- low_cv
- sum
- median
</code></pre>
<ul>
<li><strong>sample.type.keep</strong>: sample types to keep for further analysis after normalization, e.g. PO, NIST.  </li>
</ul>
<pre><code class="language-yaml">- PO
- NIST
</code></pre>
<h5 id="merge-positive-and-negative-mode-data">Merge positive and negative mode data<a class="headerlink" href="#merge-positive-and-negative-mode-data" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>final.norm</strong>: final normalization method to choose</li>
<li><strong>final.eval.sample.to.use</strong>: sample types used for cleaning duplicate features in the final merged data.</li>
<li><strong>final.sample.type.keep</strong>: sample types to keep for further analysis in the final merged data.  </li>
</ul>
<pre><code class="language-yaml">- PO
- NIST
</code></pre>
<h5 id="metadata">Metadata<a class="headerlink" href="#metadata" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>raw_files_pos</strong>: list of raw/mzML files in positive mode</li>
<li><strong>meta_pos</strong>: metadata positive mode data, e.g. Sample.type, Run.seq</li>
<li><strong>raw_files_neg</strong>: list of raw/mzML files in negative mode</li>
<li><strong>meta_neg</strong>: metadata hegative mode data, e.g. Sample.type, Run.seq</li>
</ul>
<h3 id="run-workflow">Run workflow<a class="headerlink" href="#run-workflow" title="Permanent link">&para;</a></h3>
<p>To execute the full processing workflow, run the following command in powershell:</p>
<pre><code class="language-powershell">docker run -it `
    -v E:/:/mnt/e `
    qiangao/metpipe:0.5 `
    Rscript /wd/run_workflow.R --raw &quot;/mnt/e/Projects/MP_workshop/peaktable/PL_LIPS_PASEF/config.yml&quot;
</code></pre>
<p>In this step, the <code>run_workflow.R</code> script is executed, using the <code>config.yml</code> file generated in the previous step. Adjust the paths as necessary for your system. The processing logs and result files will be written to the output directory specified in config.yml.</p>
<h3 id="re-run-workflow">Re-run workflow<a class="headerlink" href="#re-run-workflow" title="Permanent link">&para;</a></h3>
<h4 id="re-run-mzmine-preprocessing-with-modified-parameters">Re-run MZMine preprocessing with modified parameters<a class="headerlink" href="#re-run-mzmine-preprocessing-with-modified-parameters" title="Permanent link">&para;</a></h4>
<p>In the initial run of the workflow, default MZMine processing parameters are generated and saved in pos/neg folders inside the result folder. To modify and re-run MZMine preprocessing with custom parameters, edit the <code>mzmine_parameters_pos/neg.mzbatch</code> files in the respective pos/neg folders. After making the desired changes, remove the preprocessing output files in the previous run in pos/neg folder, and execute the run_workflow.ps1 script again.</p>
<p>To better understand the MZMine parameters, the .mzbatch files can be opened in MZMine GUI (Project -&gt; Batch mode -&gt; Load). After editing and saving the parameters in MZMine GUI, export the updated parameters back to the .mzbatch files. Then, re-run the run_workflow.R script as shown above.</p>
<h4 id="re-run-downstream-processing-with-modified-parameters">Re-run downstream processing with modified parameters<a class="headerlink" href="#re-run-downstream-processing-with-modified-parameters" title="Permanent link">&para;</a></h4>
<p>To re-run the downstream processing with modified parameters (e.g., filtering thresholds, normalization methods), edit the <code>config.yml</code> file generated in the prepare_workflow step. After making the desired changes, execute the run_workflow.ps1 script again.</p>
<h3 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h3>
<p>All the output files will be saved in the specified result folder (path_result in config.yml). The main output files include:</p>
<ul>
<li><code>pos/neg folders</code>: MZMine preprocessing output files for positive and negative mode data, respectively.</li>
<li><code>qc_report.html</code>: Quality control report summarizing the internal standards in all samples. Based on prerpocessed peaktable before post-processing.</li>
<li><code>peaktable_pos/neg.xlsx</code>: Preprocessed peaktable, before post-processing. </li>
<li><code>peaktable_istd_pos/neg.xlsx</code>: Preprocessed peaktable including only internal standards.</li>
<li><code>post_processing.html</code>: Documentation of post-processing steps applied to the data, including filtering, imputation, normalization, and merging of positive and negative mode data.</li>
<li><code>evaluation.html</code>: Evaluation report summarizing the missing distribution, qc of internal standard, normalization comparison, batch evaluation and annotation summary. Based on post-processed peaktable.</li>
<li><code>datatable.xlsx</code>: Final processed data table after post-processing, including merged positive and negative mode data and feature annotations and database mappings.</li>
</ul>
<hr />
<h2 id="one-step-command">One step command<a class="headerlink" href="#one-step-command" title="Permanent link">&para;</a></h2>
<p>To run the entire workflow in a single step, you can use the following command in powershell:</p>
<pre><code class="language-powershell">docker run -it `
    -v E:/:/mnt/e `
    qiangao/metpipe:0.5 `
    Rscript /wd/prepare_run_workflow.R --raw &quot;/mnt/e/Projects/MP_workshop/raw/PL_LIPS_PASEF&quot;
</code></pre>
<hr />
<h2 id="guidance-for-non-standardized-workflow">Guidance for non-standardized workflow<a class="headerlink" href="#guidance-for-non-standardized-workflow" title="Permanent link">&para;</a></h2>
<p>If your data contains more qc types than the standardized ones (e.g. BL, PO, NIST, CP), you could prepare non-standardized workflow by running the following command in powershell: </p>
<pre><code class="language-powershell">docker run -it `
    -v E:/:/mnt/e `
    qiangao/metpipe:0.5 `
    Rscript /wd/prepare_workflow.R --raw &quot;/mnt/e/Projects/MP_workshop/raw/PL_LIPS_PASEF&quot; --qc &quot;BL,PO,NIST,CP,ABC,DEF&quot;
</code></pre>
<p><strong>--qc</strong> argument allows users to specify all qc types included in the data, separated by commas. After running this command, a default <code>config.yml</code> file will be generated in the output directory. Check and edit the parameters in <code>config.yml</code> as needed before running the <code>run_workflow.R</code> script.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../setup_input_folder/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Set up input folder">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Set up input folder
              </div>
            </div>
          </a>
        
        
          
          <a href="../../data_explorer/introduction/" class="md-footer__link md-footer__link--next" aria-label="Next: Introduction">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Introduction
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.footer"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>